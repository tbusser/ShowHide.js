!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.ShowHide=b()}(this,function(){"use strict";function a(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function b(b){var c={};return a(n.options,function(a,b){c[a]=b}),a(b,function(a,b){void 0!==c[a]&&(c[a]=b)}),c}function c(){var a,b=document.createElement("div"),c={WebkitTransition:"webkitTransitionEnd",OTransition:"otransitionend",MozTransition:"transitionend",transition:"transitionend"};for(a in c)if(c.hasOwnProperty(a)&&void 0!==b.style[a])return c[a];return m}function d(a,b){var c,d,e=function(){return"sh-"+(new Date).getTime()};if((!a.hasAttribute("aria-controls")||null==document.getElementById(a.getAttribute("aria-controls")))&&(c=document.querySelector("["+k.attrContent+'="'+b+'"]'),null!=c)){if(d=c.id,null==d||""===d){for(d=e();null!=document.getElementById(d);)d=e();c.id=d}a.setAttribute("aria-controls",d)}}function e(a,b){var c=document.querySelector("["+k.attrContainer+'="'+a+'"]'),d=document.querySelector("["+k.attrContent+'="'+a+'"]'),e=document.querySelector("["+k.attrTrigger+'="'+a+'"]'),g=!b&&k.transitionEnd!==m;if(null!=c&&null!=e){if(c.classList.remove(k.cssOpened),c.classList.add(k.cssClosed),e.hasAttribute(k.attrTextClosed)){var i=document.createTextNode(e.getAttribute(k.attrTextClosed));e.textContent=i.textContent}e.setAttribute("aria-expanded","false"),d.setAttribute("aria-hidden","true"),c.classList.remove(k.cssTransition),l&&g?(c.addEventListener(k.transitionEnd,h),c.style.maxHeight=c.offsetHeight+"px",setTimeout(function(){c.classList.add(k.cssTransition),c.style.maxHeight=f(c)+"px"},10)):(c.style.maxHeight=f(c)+"px",setTimeout(function(){k.transitionEnd===m?j(c):c.classList.add(k.cssTransition)},10))}}function f(a){var b,c=a.querySelector("["+k.attrTrigger+"]"),d=0;if(b=window.getComputedStyle(a),null!=c){for(;c.parentNode!==a;)c=c.parentNode;b=window.getComputedStyle(c),"absolute"!==b.position&&(d+=c.offsetHeight,d+=parseInt(b["margin-bottom"],10)+parseInt(b["margin-top"],10))}return b=window.getComputedStyle(a),"border-box"===b["box-sizing"]&&(d+=parseInt(b["border-bottom-width"],10)+parseInt(b["border-top-width"],10)),d}function g(a){var b=a.currentTarget,c=b.getAttribute(k.attrTrigger),d=document.querySelector("["+k.attrContainer+'="'+c+'"]');null!=d&&(d.classList.contains(k.cssClosed)?i(c):e(c))}function h(a){var b=a.currentTarget;b.removeEventListener(k.transitionEnd,h),j(b)}function i(a,b){var c=document.querySelector("["+k.attrContainer+'="'+a+'"]'),d=c.querySelector("["+k.attrContent+"]"),e=document.querySelector("["+k.attrTrigger+'="'+a+'"]'),g=!b&&k.transitionEnd!==m;if(null!=c&&null!=d&&null!=e){if(b=void 0===b?!1:b,c.classList.remove(k.cssClosed),c.classList.add(k.cssOpened),e.setAttribute("aria-expanded","true"),d.setAttribute("aria-hidden","false"),e.hasAttribute(k.attrTextOpened)){var i=document.createTextNode(e.getAttribute(k.attrTextOpened));e.textContent=i.textContent}c.classList.remove(k.cssTransition),d.style.display="block",c.style.maxHeight=f(c)+"px",setTimeout(function(){g&&(c.addEventListener(k.transitionEnd,h),c.classList.add(k.cssTransition)),c.style.maxHeight=d.offsetHeight+f(c)+"px",g||j(c)},10)}}function j(a){if(null!=a){if(a.classList.contains(k.cssClosed)){var b=a.querySelector("["+k.attrContent+"]");null!=b&&(b.style.display="none")}a.classList.contains(k.cssTransition)?(a.classList.remove(k.cssTransition),setTimeout(function(){a.style.removeProperty("max-height"),setTimeout(function(){a.classList.add(k.cssTransition)},10)},10)):a.style.removeProperty("max-height")}}var k,l=!1,m="no-transitions",n=function(a){k=b(a),k.transitionEnd=c()};return n.options={attrContent:"data-sh-content",attrContainer:"data-sh-container",attrOpenOnInit:"data-sh-open",attrTextClosed:"data-sh-text-closed",attrTextOpened:"data-sh-text-opened",attrTrigger:"data-sh-trigger",cssClosed:"closed",cssOpened:"opened",cssTransition:"transition"},n.prototype={hideDetailView:function(a,b){var c=document.querySelector("["+k.attrContainer+'="'+a+'"]');null==c||c.classList.contains(k.cssClosed)||e(a,b)},init:function(a,b){b=b||{};for(var c=document.querySelectorAll("["+k.attrTrigger+"]"),f=0,h=c.length;h>f;f++){var j=c[f],m=j.getAttribute(k.attrTrigger),n=document.querySelector("["+k.attrContainer+'="'+m+'"]');null!=n&&(d(j,m),j.addEventListener("click",g),"1"===n.getAttribute(k.attrOpenOnInit)?(n.removeAttribute(k.attrOpenOnInit),i(m,!0)):e(m,!0),null!=a&&a.call(b,{id:m}))}l=!0,document.documentElement.classList.remove("no-read-more")},replaceTrigger:function(a,b){if(null!=b&&b.hasAttribute(k.attrTrigger)){var c=document.querySelector("["+k.attrTrigger+'="'+a+'"]');null!=c&&null!=b&&(c.removeEventListener("click",g),b.addEventListener("click",g),b.setAttribute("aria-expanded",c.getAttribute("aria-expanded")),b.setAttribute("aria-controls",c.getAttribute("aria-controls")),c.parentNode.replaceChild(b,c),c=null)}},showDetailView:function(a,b){var c=document.querySelector("["+k.attrContainer+'="'+a+'"]');null==c||c.classList.contains(k.cssOpened)||i(a,b)}},n});