!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.ShowHide=b(a.$)}(this,function(a){"use strict";function b(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function c(a){var c={};return b(o.options,function(a,b){c[a]=b}),b(a,function(a,b){void 0!==c[a]&&(c[a]=b)}),c}function d(){var a,b=document.createElement("div"),c={WebkitTransition:"webkitTransitionEnd",OTransition:"otransitionend",MozTransition:"transitionend",transition:"transitionend"};for(a in c)if(c.hasOwnProperty(a)&&void 0!==b.style[a])return c[a];return n}function e(a,b){var c,d,e=function(){return"sh-"+(new Date).getTime()};if((!a.hasAttribute("aria-controls")||null==document.getElementById(a.getAttribute("aria-controls")))&&(c=document.querySelector("["+l.attrContent+'="'+b+'"]'),null!=c)){if(d=c.id,null==d||""===d){for(d=e();null!=document.getElementById(d);)d=e();c.id=d}a.setAttribute("aria-controls",d)}}function f(b,c){var d=document.querySelector("["+l.attrContainer+'="'+b+'"]'),e=document.querySelector("["+l.attrContent+'="'+b+'"]'),f=document.querySelector("["+l.attrTrigger+'="'+b+'"]'),h=!c&&l.transitionEnd!==n;if(null!=d&&null!=f){if(a(d).removeClass(l.cssOpened),a(d).addClass(l.cssClosed),f.hasAttribute(l.attrTextClosed)){var j=document.createTextNode(f.getAttribute(l.attrTextClosed));f.textContent=j.textContent}f.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true"),d.classList.remove(l.cssTransition),m&&h?(a(d).on(l.transitionEnd,i),d.style.maxHeight=d.offsetHeight+"px",setTimeout(function(){a(d).addClass(l.cssTransition),d.style.maxHeight=g(d)+"px"},10)):(d.style.maxHeight=g(d)+"px",setTimeout(function(){l.transitionEnd===n?k(d):a(d).add(l.cssTransition)},10))}}function g(b){var c=b.querySelector("["+l.attrTrigger+"]"),d=0;if(null!=c){for(;c.parentNode!==b;)c=c.parentNode;"absolute"!==a(b).css("position")&&(d+=c.offsetHeight,d+=parseInt(a(b).css("margin-bottom"),10)+parseInt(a(b).css("margin-top"),10))}return"border-box"===a(b).css("box-sizing")&&(d+=parseInt(a(b).css("border-bottom-width"),10)+parseInt(a(b).css("border-top-width"),10)),d}function h(b){var c=b.currentTarget,d=c.getAttribute(l.attrTrigger),e=document.querySelector("["+l.attrContainer+'="'+d+'"]');null!=e&&(a(e).hasClass(l.cssClosed)?j(d):f(d))}function i(b){var c=b.currentTarget;a(c).off(l.transitionEnd,i),k(c)}function j(b,c){var d=document.querySelector("["+l.attrContainer+'="'+b+'"]'),e=d.querySelector("["+l.attrContent+"]"),f=document.querySelector("["+l.attrTrigger+'="'+b+'"]'),h=!c&&l.transitionEnd!==n;if(null!=d&&null!=e&&null!=f){if(c=void 0===c?!1:c,a(d).removeClass(l.cssClosed),a(d).addClass(l.cssOpened),f.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","false"),f.hasAttribute(l.attrTextOpened)){var j=document.createTextNode(f.getAttribute(l.attrTextOpened));f.textContent=j.textContent}a(d).removeClass(l.cssTransition),e.style.display="block",d.style.maxHeight=g(d)+"px",setTimeout(function(){h&&(a(d).on(l.transitionEnd,i),a(d).addClass(l.cssTransition)),d.style.maxHeight=e.offsetHeight+g(d)+"px",h||k(d)},10)}}function k(b){if(null!=b){if(a(b).hasClass(l.cssClosed)){var c=b.querySelector("["+l.attrContent+"]");null!=c&&(c.style.display="none")}a(b).hasClass(l.cssTransition)?(a(b).removeClass(l.cssTransition),setTimeout(function(){b.style.removeProperty("max-height"),setTimeout(function(){a(b).addClass(l.cssTransition)},10)},10)):b.style.removeProperty("max-height")}}var l,m=!1,n="no-transitions",o=function(a){l=c(a),l.transitionEnd=d()};return o.options={attrContent:"data-sh-content",attrContainer:"data-sh-container",attrOpenOnInit:"data-sh-open",attrTextClosed:"data-sh-text-closed",attrTextOpened:"data-sh-text-opened",attrTrigger:"data-sh-trigger",cssClosed:"closed",cssOpened:"opened",cssTransition:"transition"},o.prototype={hideDetailView:function(b,c){var d=document.querySelector("["+l.attrContainer+'="'+b+'"]');null==d||a(d).hasClass(l.cssClosed)||f(b,c)},init:function(b,c){c=c||{};for(var d=document.querySelectorAll("["+l.attrTrigger+"]"),g=0,i=d.length;i>g;g++){var k=d[g],n=k.getAttribute(l.attrTrigger),o=document.querySelector("["+l.attrContainer+'="'+n+'"]');null!=o&&(e(k,n),a(k).on("click",h),"1"===o.getAttribute(l.attrOpenOnInit)?(o.removeAttribute(l.attrOpenOnInit),j(n,!0)):f(n,!0),null!=b&&b.call(c,{id:n}))}m=!0,a(document.documentElement).removeClass("no-read-more")},replaceTrigger:function(b,c){if(null!=c&&c.hasAttribute(l.attrTrigger)){var d=document.querySelector("["+l.attrTrigger+'="'+b+'"]');null!=d&&null!=c&&(a(d).off("click",h),a(c).on("click",h),c.setAttribute("aria-expanded",d.getAttribute("aria-expanded")),c.setAttribute("aria-controls",d.getAttribute("aria-controls")),d.parentNode.replaceChild(c,d),d=null)}},showDetailView:function(b,c){var d=document.querySelector("["+l.attrContainer+'="'+b+'"]');null==d||a(d).hasClass(l.cssOpened)||j(b,c)}},o});