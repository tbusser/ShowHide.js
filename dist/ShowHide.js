!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.ShowHide=b()}(this,function(){"use strict";function a(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function b(b){var c={};return a(o.options,function(a,b){c[a]=b}),a(b,function(a,b){void 0!==c[a]&&(c[a]=b)}),c}function c(){var a,b=document.createElement("div"),c={WebkitTransition:"webkitTransitionEnd",OTransition:"otransitionend",MozTransition:"transitionend",transition:"transitionend"};for(a in c)if(c.hasOwnProperty(a)&&void 0!==b.style[a])return c[a];return n}function d(a,b){var c,d,e=function(){return"sh-"+(new Date).getTime()};if((!a.hasAttribute("aria-controls")||null==document.getElementById(a.getAttribute("aria-controls")))&&(c=document.querySelector("["+l.attrContent+'="'+b+'"]'),null!=c)){if(d=c.id,null==d||""===d){for(d=e();null!=document.getElementById(d);)d=e();c.id=d}a.setAttribute("aria-controls",d)}}function e(a,b){var c=document.querySelector("["+l.attrContainer+'="'+a+'"]'),d=document.querySelector("["+l.attrContent+'="'+a+'"]'),e=document.querySelector("["+l.attrTrigger+'="'+a+'"]'),h=!b&&l.transitionEnd!==n;null!=c&&null!=e&&(c.classList.remove(l.cssOpened),c.classList.add(l.cssClosed),k(e,!1),e.setAttribute("aria-expanded","false"),d.setAttribute("aria-hidden","true"),c.classList.remove(l.cssTransition),m&&h?(c.addEventListener(l.transitionEnd,g),c.style.maxHeight=c.offsetHeight+"px",setTimeout(function(){c.classList.add(l.cssTransition),c.style.maxHeight=f(c)+"px"},10)):(c.style.maxHeight=f(c)+"px",setTimeout(function(){l.transitionEnd===n?j(c):c.classList.add(l.cssTransition)},10)))}function f(a){var b,c=a.querySelector("["+l.attrTrigger+"]"),d=0;if(b=window.getComputedStyle(a),null!=c){for(;c.parentNode!==a;)c=c.parentNode;b=window.getComputedStyle(c),"absolute"!==b.position&&(d+=c.offsetHeight,d+=parseInt(b["margin-bottom"],10)+parseInt(b["margin-top"],10))}return b=window.getComputedStyle(a),"border-box"===b["box-sizing"]&&(d+=parseInt(b["border-bottom-width"],10)+parseInt(b["border-top-width"],10)),d}function g(a){var b=a.currentTarget;b.removeEventListener(l.transitionEnd,g),j(b)}function h(a){var b=a.currentTarget,c=b.getAttribute(l.attrTrigger),d=document.querySelector("["+l.attrContainer+'="'+c+'"]');null!=d&&(d.classList.contains(l.cssClosed)?i(c):e(c))}function i(a,b){var c=document.querySelector("["+l.attrContainer+'="'+a+'"]'),d=c.querySelector("["+l.attrContent+"]"),e=document.querySelector("["+l.attrTrigger+'="'+a+'"]'),h=!b&&l.transitionEnd!==n;null!=c&&null!=d&&null!=e&&(b=void 0===b?!1:b,c.classList.remove(l.cssClosed),c.classList.add(l.cssOpened),e.setAttribute("aria-expanded","true"),d.setAttribute("aria-hidden","false"),k(e,!0),c.classList.remove(l.cssTransition),d.style.display="block",c.style.maxHeight=f(c)+"px",setTimeout(function(){h&&(c.addEventListener(l.transitionEnd,g),c.classList.add(l.cssTransition)),c.style.maxHeight=d.offsetHeight+f(c)+"px",h||j(c)},10))}function j(a){if(null!=a){if(a.classList.contains(l.cssClosed)){var b=a.querySelector("["+l.attrContent+"]");null!=b&&(b.style.display="none")}a.classList.contains(l.cssTransition)?(a.classList.remove(l.cssTransition),setTimeout(function(){a.style.removeProperty("max-height"),setTimeout(function(){a.classList.add(l.cssTransition)},10)},10)):a.style.removeProperty("max-height")}}function k(a,b){var c,d=b?l.attrTextOpened:l.attrTextClosed;if(c=a.hasAttribute(d)?a:a.querySelector("["+d+"]"),null!=c){var e=c.getAttribute(d),f=document.createTextNode(e);c.textContent=f.textContent}}var l,m=!1,n="no-transitions",o=function(a){l=b(a),l.transitionEnd=c()};return o.options={attrContent:"data-sh-content",attrContainer:"data-sh-container",attrOpenOnInit:"data-sh-open",attrTextClosed:"data-sh-text-closed",attrTextOpened:"data-sh-text-opened",attrTrigger:"data-sh-trigger",cssClosed:"closed",cssOpened:"opened",cssTransition:"transition",triggerEvent:"click"},o.prototype={hideDetailView:function(a,b){var c=document.querySelector("["+l.attrContainer+'="'+a+'"]');null==c||c.classList.contains(l.cssClosed)||e(a,b)},init:function(a,b){b=b||{};for(var c=document.querySelectorAll("["+l.attrTrigger+"]"),f=0,g=c.length;g>f;f++){var j=c[f],k=j.getAttribute(l.attrTrigger),n=document.querySelector("["+l.attrContainer+'="'+k+'"]');null!=n&&(d(j,k),j.addEventListener(l.triggerEvent,h),"1"===n.getAttribute(l.attrOpenOnInit)?(n.removeAttribute(l.attrOpenOnInit),i(k,!0)):e(k,!0),null!=a&&a.call(b,{id:k}))}m=!0,document.documentElement.classList.remove("no-read-more")},replaceTrigger:function(a,b){if(null!=b&&b.hasAttribute(l.attrTrigger)){var c=document.querySelector("["+l.attrTrigger+'="'+a+'"]');null!=c&&null!=b&&(c.removeEventListener(l.triggerEvent,h),b.addEventListener(l.triggerEvent,h),b.setAttribute("aria-expanded",c.getAttribute("aria-expanded")),b.setAttribute("aria-controls",c.getAttribute("aria-controls")),c.parentNode.replaceChild(b,c),c=null)}},showDetailView:function(a,b){var c=document.querySelector("["+l.attrContainer+'="'+a+'"]');null==c||c.classList.contains(l.cssOpened)||i(a,b)}},o});