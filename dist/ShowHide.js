!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.ShowHide=b()}(this,function(){"use strict";function a(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function b(b){var c={};return a(m.options,function(a,b){c[a]=b}),a(b,function(a,b){void 0!==c[a]&&(c[a]=b)}),c}function c(){var a,b=document.createElement("div"),c={WebkitTransition:"webkitTransitionEnd",OTransition:"otransitionend",MozTransition:"transitionend",transition:"transitionend"};for(a in c)if(c.hasOwnProperty(a)&&void 0!==b.style[a])return c[a];return l}function d(a,b){var c=document.querySelector("["+j.attrContainer+'="'+a+'"]'),d=document.querySelector("["+j.attrTrigger+'="'+a+'"]'),f=!b&&j.transitionEnd!==l;if(null!=c&&null!=d){if(c.classList.remove(j.cssOpened),c.classList.add(j.cssClosed),d.hasAttribute("data-sh-text-closed")){var h=document.createTextNode(d.getAttribute("data-sh-text-closed"));d.textContent=h.textContent}c.classList.remove(j.cssTransition),k&&f?(c.addEventListener(j.transitionEnd,g),c.style.maxHeight=c.offsetHeight+"px",setTimeout(function(){c.classList.add(j.cssTransition),c.style.maxHeight=e(c)+"px"},10)):(c.style.maxHeight=e(c)+"px",setTimeout(function(){j.transitionEnd===l?i(c):c.classList.add(j.cssTransition)},10))}}function e(a){var b,c=a.querySelector("["+j.attrTrigger+"]"),d=0;if(b=window.getComputedStyle(a),null!=c){for(;c.parentNode!==a;)c=c.parentNode;b=window.getComputedStyle(c),"absolute"!==b.position&&(d+=c.offsetHeight,d+=parseInt(b["margin-bottom"],10)+parseInt(b["margin-top"],10))}return b=window.getComputedStyle(a),"border-box"===b["box-sizing"]&&(d+=parseInt(b["border-bottom-width"],10)+parseInt(b["border-top-width"],10)),d}function f(a){var b=a.target,c=b.getAttribute(j.attrTrigger),e=document.querySelector("["+j.attrContainer+'="'+c+'"]');null!=e&&(e.classList.contains(j.cssClosed)?h(c):d(c))}function g(a){var b=a.currentTarget;b.removeEventListener(j.transitionEnd,g),i(b)}function h(a,b){var c=document.querySelector("["+j.attrContainer+'="'+a+'"]'),d=c.querySelector("["+j.attrContent+"]"),f=document.querySelector("["+j.attrTrigger+'="'+a+'"]'),h=!b&&j.transitionEnd!==l;if(null!=c&&null!=d&&null!=f){if(b=void 0===b?!1:b,c.classList.remove(j.cssClosed),c.classList.add(j.cssOpened),f.hasAttribute("data-sh-text-opened")){var k=document.createTextNode(f.getAttribute("data-sh-text-opened"));f.textContent=k.textContent}c.classList.remove(j.cssTransition),d.style.display="block",c.style.maxHeight=e(c)+"px",setTimeout(function(){h&&(c.addEventListener(j.transitionEnd,g),c.classList.add(j.cssTransition)),c.style.maxHeight=d.offsetHeight+e(c)+"px",h||i(c)},10)}}function i(a){if(null!=a){if(a.classList.contains(j.cssClosed)){var b=a.querySelector("["+j.attrContent+"]");null!=b&&(b.style.display="none")}a.classList.contains(j.cssTransition)?(a.classList.remove(j.cssTransition),setTimeout(function(){a.style.removeProperty("max-height"),setTimeout(function(){a.classList.add(j.cssTransition)},10)},10)):a.style.removeProperty("max-height")}}var j,k=!1,l="no-transitions",m=function(a){j=b(a),j.transitionEnd=c()};return m.options={attrContent:"data-sh-content",attrContainer:"data-sh-container",attrOpenOnInit:"data-sh-open",attrTrigger:"data-sh-trigger",cssClosed:"closed",cssOpened:"opened",cssTransition:"transition"},m.prototype={hideDetailView:function(a,b){var c=document.querySelector("["+j.attrContainer+'="'+a+'"]');null==c||c.classList.contains(j.cssClosed)||d(a,b)},init:function(a,b){b=b||{};for(var c=document.querySelectorAll("["+j.attrTrigger+"]"),e=0,g=c.length;g>e;e++){var i=c[e],l=i.getAttribute(j.attrTrigger),m=document.querySelector("["+j.attrContainer+'="'+l+'"]');null!=m&&(i.addEventListener("click",f),"1"===m.getAttribute(j.attrOpenOnInit)?(m.removeAttribute(j.attrOpenOnInit),h(l,!0)):d(l,!0),null!=a&&a.call(b,{id:l}))}k=!0,document.documentElement.classList.remove("no-read-more")},replaceTrigger:function(a,b){if(null!=b&&b.hasAttribute(j.attrTrigger)){var c=document.querySelector("["+j.attrTrigger+'="'+a+'"]');null!=c&&null!=b&&(c.removeEventListener("click",f),b.addEventListener("click",f),c.parentNode.replaceChild(b,c),c=null)}},showDetailView:function(a,b){var c=document.querySelector("["+j.attrContainer+'="'+a+'"]');null==c||c.classList.contains(j.cssOpened)||h(a,b)}},m});